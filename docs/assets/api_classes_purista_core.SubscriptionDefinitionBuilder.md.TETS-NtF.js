import{_ as e,c as o,o as d,V as t}from"./chunks/framework.ITQiifkM.js";const g=JSON.parse('{"title":"Class: SubscriptionDefinitionBuilder<ServiceClassType, MessagePayloadType, MessageParamsType, MessageResultType, PayloadSchema, ParameterSchema, ResultSchema, Invokes, EmitListType>","description":"","frontmatter":{},"headers":[],"relativePath":"api/classes/purista_core.SubscriptionDefinitionBuilder.md","filePath":"api/classes/purista_core.SubscriptionDefinitionBuilder.md","lastUpdated":1707653747000}'),c={name:"api/classes/purista_core.SubscriptionDefinitionBuilder.md"},a=t(`<p><a href="./../README.html">PURISTA API</a> / <a href="./../modules.html">Modules</a> / <a href="./../modules/purista_core.html">@purista/core</a> / SubscriptionDefinitionBuilder</p><h1 id="class-subscriptiondefinitionbuilder-serviceclasstype-messagepayloadtype-messageparamstype-messageresulttype-payloadschema-parameterschema-resultschema-invokes-emitlisttype" tabindex="-1">Class: SubscriptionDefinitionBuilder&lt;ServiceClassType, MessagePayloadType, MessageParamsType, MessageResultType, PayloadSchema, ParameterSchema, ResultSchema, Invokes, EmitListType&gt; <a class="header-anchor" href="#class-subscriptiondefinitionbuilder-serviceclasstype-messagepayloadtype-messageparamstype-messageresulttype-payloadschema-parameterschema-resultschema-invokes-emitlisttype" aria-label="Permalink to &quot;Class: SubscriptionDefinitionBuilder\\&lt;ServiceClassType, MessagePayloadType, MessageParamsType, MessageResultType, PayloadSchema, ParameterSchema, ResultSchema, Invokes, EmitListType\\&gt;&quot;">​</a></h1><p><a href="./../modules/purista_core.html">@purista/core</a>.SubscriptionDefinitionBuilder</p><p>Subscription definition builder is a helper to create and define a subscriptions for a service. It helps to set all needed filters.</p><p>A working schema definition needs at least a subscription name, a short description and the subscription implementation.</p><h2 id="type-parameters" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h2><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>ServiceClassType</code></td><td style="text-align:left;">extends <a href="./../interfaces/purista_core.ServiceClass.html"><code>ServiceClass</code></a> = <a href="./../interfaces/purista_core.ServiceClass.html"><code>ServiceClass</code></a></td></tr><tr><td style="text-align:left;"><code>MessagePayloadType</code></td><td style="text-align:left;"><code>unknown</code></td></tr><tr><td style="text-align:left;"><code>MessageParamsType</code></td><td style="text-align:left;"><code>undefined</code></td></tr><tr><td style="text-align:left;"><code>MessageResultType</code></td><td style="text-align:left;"><code>void</code></td></tr><tr><td style="text-align:left;"><code>PayloadSchema</code></td><td style="text-align:left;">extends <code>Schema</code> = <code>ZodAny</code></td></tr><tr><td style="text-align:left;"><code>ParameterSchema</code></td><td style="text-align:left;">extends <code>Schema</code> = <code>ZodAny</code></td></tr><tr><td style="text-align:left;"><code>ResultSchema</code></td><td style="text-align:left;">extends <code>Schema</code> = <code>ZodAny</code></td></tr><tr><td style="text-align:left;"><code>Invokes</code></td><td style="text-align:left;">{}</td></tr><tr><td style="text-align:left;"><code>EmitListType</code></td><td style="text-align:left;">{}</td></tr></tbody></table><h2 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of contents&quot;">​</a></h2><h3 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-label="Permalink to &quot;Constructors&quot;">​</a></h3><ul><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#constructor">constructor</a></li></ul><h3 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h3><ul><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#autoacknowledge">autoacknowledge</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#durable">durable</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#emiteventname">emitEventName</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#emitlist">emitList</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#eventname">eventName</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#fn">fn</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#hooks">hooks</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#inputcontentencoding">inputContentEncoding</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#inputcontenttype">inputContentType</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#inputschema">inputSchema</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#invokes">invokes</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#messagetype">messageType</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#outputcontentencoding">outputContentEncoding</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#outputcontenttype">outputContentType</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#outputschema">outputSchema</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#parameterschema">parameterSchema</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#principalid">principalId</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#receiver">receiver</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#sender">sender</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#shared">shared</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#subscriptiondescription">subscriptionDescription</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#subscriptionname">subscriptionName</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#tenantid">tenantId</a></li></ul><h3 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h3><ul><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#addoutputschema">addOutputSchema</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#addparameterschema">addParameterSchema</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#addpayloadschema">addPayloadSchema</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#adviceautoacknowledgemessage">adviceAutoacknowledgeMessage</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#advicedurable">adviceDurable</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#canemit">canEmit</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#caninvoke">canInvoke</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#filterformessagetype">filterForMessageType</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#filterprincipalid">filterPrincipalId</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#filterreceivedby">filterReceivedBy</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#filtersentfrom">filterSentFrom</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#filtertenantid">filterTenantId</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#getdefinition">getDefinition</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#getsubscriptioncontextmock">getSubscriptionContextMock</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#getsubscriptionfunction">getSubscriptionFunction</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#getsubscriptionfunctionplain">getSubscriptionFunctionPlain</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#getsubscriptiontransformcontextmock">getSubscriptionTransformContextMock</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#gettransforminputfunction">getTransformInputFunction</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#gettransformoutputfunction">getTransformOutputFunction</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#receivemessageoneveryinstance">receiveMessageOnEveryInstance</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#setafterguardhooks">setAfterGuardHooks</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#setbeforeguardhooks">setBeforeGuardHooks</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#setsubscriptionfunction">setSubscriptionFunction</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#settransforminput">setTransformInput</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#settransformoutput">setTransformOutput</a></li><li><a href="./purista_core.SubscriptionDefinitionBuilder.html#subscribetoevent">subscribeToEvent</a></li></ul><h2 id="constructors-1" tabindex="-1">Constructors <a class="header-anchor" href="#constructors-1" aria-label="Permalink to &quot;Constructors&quot;">​</a></h2><h3 id="constructor" tabindex="-1">constructor <a class="header-anchor" href="#constructor" aria-label="Permalink to &quot;constructor&quot;">​</a></h3><p>• <strong>new SubscriptionDefinitionBuilder</strong>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;(<code>subscriptionName</code>, <code>subscriptionDescription</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="type-parameters-1" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-1" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>ServiceClassType</code></td><td style="text-align:left;">extends <a href="./../interfaces/purista_core.ServiceClass.html"><code>ServiceClass</code></a>&lt;<code>unknown</code>&gt; = <a href="./../interfaces/purista_core.ServiceClass.html"><code>ServiceClass</code></a>&lt;<code>unknown</code>&gt;</td></tr><tr><td style="text-align:left;"><code>MessagePayloadType</code></td><td style="text-align:left;"><code>unknown</code></td></tr><tr><td style="text-align:left;"><code>MessageParamsType</code></td><td style="text-align:left;"><code>undefined</code></td></tr><tr><td style="text-align:left;"><code>MessageResultType</code></td><td style="text-align:left;"><code>void</code></td></tr><tr><td style="text-align:left;"><code>PayloadSchema</code></td><td style="text-align:left;">extends <code>Schema</code> = <code>ZodAny</code></td></tr><tr><td style="text-align:left;"><code>ParameterSchema</code></td><td style="text-align:left;">extends <code>Schema</code> = <code>ZodAny</code></td></tr><tr><td style="text-align:left;"><code>ResultSchema</code></td><td style="text-align:left;">extends <code>Schema</code> = <code>ZodAny</code></td></tr><tr><td style="text-align:left;"><code>Invokes</code></td><td style="text-align:left;">{}</td></tr><tr><td style="text-align:left;"><code>EmitListType</code></td><td style="text-align:left;">{}</td></tr></tbody></table><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>subscriptionName</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>subscriptionDescription</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L142" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:142</a></p><h2 id="properties-1" tabindex="-1">Properties <a class="header-anchor" href="#properties-1" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><h3 id="autoacknowledge" tabindex="-1">autoacknowledge <a class="header-anchor" href="#autoacknowledge" aria-label="Permalink to &quot;autoacknowledge&quot;">​</a></h3><p>• <code>Private</code> <strong>autoacknowledge</strong>: <code>boolean</code> = <code>false</code></p><h4 id="defined-in-1" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-1" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L132" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:132</a></p><hr><h3 id="durable" tabindex="-1">durable <a class="header-anchor" href="#durable" aria-label="Permalink to &quot;durable&quot;">​</a></h3><p>• <code>Private</code> <strong>durable</strong>: <code>boolean</code> = <code>true</code></p><h4 id="defined-in-2" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-2" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L129" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:129</a></p><hr><h3 id="emiteventname" tabindex="-1">emitEventName <a class="header-anchor" href="#emiteventname" aria-label="Permalink to &quot;emitEventName&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>emitEventName</strong>: <code>string</code></p><h4 id="defined-in-3" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-3" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L124" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:124</a></p><hr><h3 id="emitlist" tabindex="-1">emitList <a class="header-anchor" href="#emitlist" aria-label="Permalink to &quot;emitList&quot;">​</a></h3><p>• <code>Private</code> <strong>emitList</strong>: <code>EmitListType</code></p><h4 id="defined-in-4" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-4" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L139" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:139</a></p><hr><h3 id="eventname" tabindex="-1">eventName <a class="header-anchor" href="#eventname" aria-label="Permalink to &quot;eventName&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>eventName</strong>: <code>string</code></p><h4 id="defined-in-5" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-5" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L123" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:123</a></p><hr><h3 id="fn" tabindex="-1">fn <a class="header-anchor" href="#fn" aria-label="Permalink to &quot;fn&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>fn</strong>: <a href="./../modules/purista_core.html#subscriptionfunction"><code>SubscriptionFunction</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in-6" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-6" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L112" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:112</a></p><hr><h3 id="hooks" tabindex="-1">hooks <a class="header-anchor" href="#hooks" aria-label="Permalink to &quot;hooks&quot;">​</a></h3><p>• <code>Private</code> <strong>hooks</strong>: <code>Object</code></p><h4 id="type-declaration" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>afterGuard</code></td><td style="text-align:left;"><code>Record</code>&lt;<code>string</code>, <a href="./../modules/purista_core.html#subscriptionafterguardhook"><code>SubscriptionAfterGuardHook</code></a>&lt;<code>ServiceClassType</code>, <code>Infer</code>&lt;<code>ResultSchema</code>&gt;, <code>Infer</code>&lt;<code>PayloadSchema</code>&gt;, <code>Infer</code>&lt;<code>ParameterSchema</code>&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;&gt;</td></tr><tr><td style="text-align:left;"><code>beforeGuard</code></td><td style="text-align:left;"><code>Record</code>&lt;<code>string</code>, <a href="./../modules/purista_core.html#subscriptionbeforeguardhook"><code>SubscriptionBeforeGuardHook</code></a>&lt;<code>ServiceClassType</code>, <code>Infer</code>&lt;<code>PayloadSchema</code>&gt;, <code>Infer</code>&lt;<code>ParameterSchema</code>&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;&gt;</td></tr><tr><td style="text-align:left;"><code>transformInput?</code></td><td style="text-align:left;">{ <code>transformFunction</code>: <a href="./../modules/purista_core.html#subscriptiontransforminputhook"><code>SubscriptionTransformInputHook</code></a>&lt;<code>ServiceClassType</code>, <code>any</code>, <code>any</code>, <code>any</code>, <code>any</code>&gt; ; <code>transformInputSchema</code>: <code>Schema</code> ; <code>transformParameterSchema</code>: <code>Schema</code> }</td></tr><tr><td style="text-align:left;"><code>transformInput.transformFunction</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#subscriptiontransforminputhook"><code>SubscriptionTransformInputHook</code></a>&lt;<code>ServiceClassType</code>, <code>any</code>, <code>any</code>, <code>any</code>, <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>transformInput.transformInputSchema</code></td><td style="text-align:left;"><code>Schema</code></td></tr><tr><td style="text-align:left;"><code>transformInput.transformParameterSchema</code></td><td style="text-align:left;"><code>Schema</code></td></tr><tr><td style="text-align:left;"><code>transformOutput?</code></td><td style="text-align:left;">{ <code>transformFunction</code>: <a href="./../modules/purista_core.html#subscriptiontransformoutputhook"><code>SubscriptionTransformOutputHook</code></a>&lt;<code>ServiceClassType</code>, <code>Infer</code>&lt;<code>ResultSchema</code>&gt;, <code>Infer</code>&lt;<code>PayloadSchema</code>&gt;, <code>any</code>&gt; ; <code>transformOutputSchema</code>: <code>Schema</code> }</td></tr><tr><td style="text-align:left;"><code>transformOutput.transformFunction</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#subscriptiontransformoutputhook"><code>SubscriptionTransformOutputHook</code></a>&lt;<code>ServiceClassType</code>, <code>Infer</code>&lt;<code>ResultSchema</code>&gt;, <code>Infer</code>&lt;<code>PayloadSchema</code>&gt;, <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>transformOutput.transformOutputSchema</code></td><td style="text-align:left;"><code>Schema</code></td></tr></tbody></table><h4 id="defined-in-7" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-7" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L61" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:61</a></p><hr><h3 id="inputcontentencoding" tabindex="-1">inputContentEncoding <a class="header-anchor" href="#inputcontentencoding" aria-label="Permalink to &quot;inputContentEncoding&quot;">​</a></h3><p>• <code>Private</code> <strong>inputContentEncoding</strong>: <code>undefined</code> | <code>string</code></p><h4 id="defined-in-8" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-8" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L55" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:55</a></p><hr><h3 id="inputcontenttype" tabindex="-1">inputContentType <a class="header-anchor" href="#inputcontenttype" aria-label="Permalink to &quot;inputContentType&quot;">​</a></h3><p>• <code>Private</code> <strong>inputContentType</strong>: <code>undefined</code> | <code>string</code></p><h4 id="defined-in-9" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-9" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L54" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:54</a></p><hr><h3 id="inputschema" tabindex="-1">inputSchema <a class="header-anchor" href="#inputschema" aria-label="Permalink to &quot;inputSchema&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>inputSchema</strong>: <code>PayloadSchema</code></p><h4 id="defined-in-10" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-10" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L53" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:53</a></p><hr><h3 id="invokes" tabindex="-1">invokes <a class="header-anchor" href="#invokes" aria-label="Permalink to &quot;invokes&quot;">​</a></h3><p>• <code>Private</code> <strong>invokes</strong>: <a href="./../modules/purista_core.html#frominvoketoothertype"><code>FromInvokeToOtherType</code></a>&lt;<code>Invokes</code>, { <code>outputSchema?</code>: <code>Schema</code> ; <code>parameterSchema?</code>: <code>Schema</code> ; <code>payloadSchema?</code>: <code>Schema</code> }&gt;</p><h4 id="defined-in-11" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-11" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L134" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:134</a></p><hr><h3 id="messagetype" tabindex="-1">messageType <a class="header-anchor" href="#messagetype" aria-label="Permalink to &quot;messageType&quot;">​</a></h3><p>• <code>Private</code> <strong>messageType</strong>: <code>undefined</code> | <a href="./../enums/purista_core.EBMessageType.html"><code>EBMessageType</code></a></p><h4 id="defined-in-12" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-12" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L51" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:51</a></p><hr><h3 id="outputcontentencoding" tabindex="-1">outputContentEncoding <a class="header-anchor" href="#outputcontentencoding" aria-label="Permalink to &quot;outputContentEncoding&quot;">​</a></h3><p>• <code>Private</code> <strong>outputContentEncoding</strong>: <code>undefined</code> | <code>string</code></p><h4 id="defined-in-13" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-13" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L58" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:58</a></p><hr><h3 id="outputcontenttype" tabindex="-1">outputContentType <a class="header-anchor" href="#outputcontenttype" aria-label="Permalink to &quot;outputContentType&quot;">​</a></h3><p>• <code>Private</code> <strong>outputContentType</strong>: <code>undefined</code> | <code>string</code></p><h4 id="defined-in-14" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-14" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L57" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:57</a></p><hr><h3 id="outputschema" tabindex="-1">outputSchema <a class="header-anchor" href="#outputschema" aria-label="Permalink to &quot;outputSchema&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>outputSchema</strong>: <code>ResultSchema</code></p><h4 id="defined-in-15" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-15" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L56" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:56</a></p><hr><h3 id="parameterschema" tabindex="-1">parameterSchema <a class="header-anchor" href="#parameterschema" aria-label="Permalink to &quot;parameterSchema&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>parameterSchema</strong>: <code>ParameterSchema</code></p><h4 id="defined-in-16" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-16" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L59" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:59</a></p><hr><h3 id="principalid" tabindex="-1">principalId <a class="header-anchor" href="#principalid" aria-label="Permalink to &quot;principalId&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>principalId</strong>: <code>string</code></p><h4 id="defined-in-17" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-17" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L126" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:126</a></p><hr><h3 id="receiver" tabindex="-1">receiver <a class="header-anchor" href="#receiver" aria-label="Permalink to &quot;receiver&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>receiver</strong>: <code>Object</code></p><h4 id="type-declaration-1" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-1" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>instanceId?</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>serviceName?</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>serviceTarget?</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>serviceVersion?</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="defined-in-18" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-18" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L105" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:105</a></p><hr><h3 id="sender" tabindex="-1">sender <a class="header-anchor" href="#sender" aria-label="Permalink to &quot;sender&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>sender</strong>: <code>Object</code></p><h4 id="type-declaration-2" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-2" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>instanceId?</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>serviceName?</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>serviceTarget?</code></td><td style="text-align:left;"><code>string</code></td></tr><tr><td style="text-align:left;"><code>serviceVersion?</code></td><td style="text-align:left;"><code>string</code></td></tr></tbody></table><h4 id="defined-in-19" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-19" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L98" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:98</a></p><hr><h3 id="shared" tabindex="-1">shared <a class="header-anchor" href="#shared" aria-label="Permalink to &quot;shared&quot;">​</a></h3><p>• <code>Private</code> <strong>shared</strong>: <code>boolean</code> = <code>true</code></p><h4 id="defined-in-20" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-20" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L131" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:131</a></p><hr><h3 id="subscriptiondescription" tabindex="-1">subscriptionDescription <a class="header-anchor" href="#subscriptiondescription" aria-label="Permalink to &quot;subscriptionDescription&quot;">​</a></h3><p>• <code>Private</code> <strong>subscriptionDescription</strong>: <code>string</code></p><h4 id="defined-in-21" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-21" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L144" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:144</a></p><hr><h3 id="subscriptionname" tabindex="-1">subscriptionName <a class="header-anchor" href="#subscriptionname" aria-label="Permalink to &quot;subscriptionName&quot;">​</a></h3><p>• <code>Private</code> <strong>subscriptionName</strong>: <code>string</code></p><h4 id="defined-in-22" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-22" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L143" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:143</a></p><hr><h3 id="tenantid" tabindex="-1">tenantId <a class="header-anchor" href="#tenantid" aria-label="Permalink to &quot;tenantId&quot;">​</a></h3><p>• <code>Private</code> <code>Optional</code> <strong>tenantId</strong>: <code>string</code></p><h4 id="defined-in-23" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-23" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L127" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:127</a></p><h2 id="methods-1" tabindex="-1">Methods <a class="header-anchor" href="#methods-1" aria-label="Permalink to &quot;Methods&quot;">​</a></h2><h3 id="addoutputschema" tabindex="-1">addOutputSchema <a class="header-anchor" href="#addoutputschema" aria-label="Permalink to &quot;addOutputSchema&quot;">​</a></h3><p>▸ <strong>addOutputSchema</strong>&lt;<code>T</code>&gt;(<code>eventName</code>, <code>outputSchema</code>, <code>outputContentType?</code>, <code>outputContentEncoding?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>T</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>T</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Add a schema for output payload validation. Types for payload of message and function payload output are generated from given schema.</p><h4 id="type-parameters-2" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-2" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr></tbody></table><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Default value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>eventName</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;"><code>undefined</code></td><td style="text-align:left;">the event name to be used when the subscription result is emitted as custom event</td></tr><tr><td style="text-align:left;"><code>outputSchema</code></td><td style="text-align:left;"><code>T</code></td><td style="text-align:left;"><code>undefined</code></td><td style="text-align:left;">the validation schema for the output payload</td></tr><tr><td style="text-align:left;"><code>outputContentType</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;"><code>&#39;application/json&#39;</code></td><td style="text-align:left;">optional the content type of payload</td></tr><tr><td style="text-align:left;"><code>outputContentEncoding</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;"><code>&#39;utf-8&#39;</code></td><td style="text-align:left;">optional the content encoding</td></tr></tbody></table><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>T</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>T</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-24" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-24" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L441" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:441</a></p><hr><h3 id="addparameterschema" tabindex="-1">addParameterSchema <a class="header-anchor" href="#addparameterschema" aria-label="Permalink to &quot;addParameterSchema&quot;">​</a></h3><p>▸ <strong>addParameterSchema</strong>&lt;<code>T</code>&gt;(<code>parameterSchema</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>T</code> extends <code>Type</code> ? <code>T</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>T</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>T</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>T</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>T</code>&gt; : <code>never</code>&gt;&gt;, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>T</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Add a schema for output parameter validation. Types for parameter of message and function parameter output are generated from given schema.</p><h4 id="type-parameters-3" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-3" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr></tbody></table><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>parameterSchema</code></td><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">the validation schema for output parameter</td></tr></tbody></table><h4 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>T</code> extends <code>Type</code> ? <code>T</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>T</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>T</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>T</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>T</code>&gt; : <code>never</code>&gt;&gt;, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>T</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-25" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-25" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L470" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:470</a></p><hr><h3 id="addpayloadschema" tabindex="-1">addPayloadSchema <a class="header-anchor" href="#addpayloadschema" aria-label="Permalink to &quot;addPayloadSchema&quot;">​</a></h3><p>▸ <strong>addPayloadSchema</strong>&lt;<code>T</code>&gt;(<code>inputSchema</code>, <code>inputContentType?</code>, <code>inputContentEncoding?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>T</code> extends <code>Type</code> ? <code>T</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>T</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>T</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>T</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>T</code>&gt; : <code>never</code>&gt;&gt;, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>T</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Add a schema for input payload validation. Types for payload of message and function payload input are generated from given schema.</p><h4 id="type-parameters-4" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-4" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr></tbody></table><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Default value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>inputSchema</code></td><td style="text-align:left;"><code>T</code></td><td style="text-align:left;"><code>undefined</code></td><td style="text-align:left;">the validation schema for input payload</td></tr><tr><td style="text-align:left;"><code>inputContentType</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;"><code>&#39;application/json&#39;</code></td><td style="text-align:left;">optional the content type of payload</td></tr><tr><td style="text-align:left;"><code>inputContentEncoding</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;"><code>&#39;utf-8&#39;</code></td><td style="text-align:left;">optional the content encoding</td></tr></tbody></table><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>T</code> extends <code>Type</code> ? <code>T</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>T</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>T</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>T</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>T</code>&gt; : <code>never</code>&gt;&gt;, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>T</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-26" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-26" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L410" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:410</a></p><hr><h3 id="adviceautoacknowledgemessage" tabindex="-1">adviceAutoacknowledgeMessage <a class="header-anchor" href="#adviceautoacknowledgemessage" aria-label="Permalink to &quot;adviceAutoacknowledgeMessage&quot;">​</a></h3><p>▸ <strong>adviceAutoacknowledgeMessage</strong>(<code>acknowledge?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Instruct the event bridge message broker to autoacknowledge messages as soon as they arrive. This means, a message will not be resent, if the subscription execution fails unexpected.</p><p>If set to false, the message will be resent from message broker to eventbridge, if:</p><ul><li>the underlaying message broker supports it</li><li>if the subscription execution fails unexpected</li><li>if sending of optional subscription response failed</li></ul><h4 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Default value</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>acknowledge</code></td><td style="text-align:left;"><code>boolean</code></td><td style="text-align:left;"><code>true</code></td><td style="text-align:left;">Enable (true) and disable (false)</td></tr></tbody></table><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinition</p><h4 id="defined-in-27" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-27" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L290" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:290</a></p><hr><h3 id="advicedurable" tabindex="-1">adviceDurable <a class="header-anchor" href="#advicedurable" aria-label="Permalink to &quot;adviceDurable&quot;">​</a></h3><p>▸ <strong>adviceDurable</strong>(<code>durable</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>False: defines the subscription as a live-subscription, which is only able to process messages while the subscription itself is running.</p><p>True: Advises the event bridge (like rabbitMQ) to store all messages if the subscription is not running. As soon as the subscription is back again, all missed messages will be sent first, before it starts working like a live-subscription.</p><h4 id="parameters-5" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-5" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>durable</code></td><td style="text-align:left;"><code>boolean</code></td></tr></tbody></table><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in-28" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-28" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L315" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:315</a></p><hr><h3 id="canemit" tabindex="-1">canEmit <a class="header-anchor" href="#canemit" aria-label="Permalink to &quot;canEmit&quot;">​</a></h3><p>▸ <strong>canEmit</strong>&lt;<code>EventName</code>, <code>T</code>&gt;(<code>eventName</code>, <code>schema</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code> &amp; <code>Record</code>&lt;<code>EventName</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>T</code> extends <code>Type</code> ? <code>T</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>T</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>T</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>T</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>T</code>&gt; : <code>never</code>&gt;&gt;&gt;&gt;</p><p>Define which custom events the command can emit.</p><h4 id="type-parameters-5" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-5" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>EventName</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr></tbody></table><h4 id="parameters-6" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-6" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>eventName</code></td><td style="text-align:left;"><code>EventName</code></td><td style="text-align:left;">The custom event name</td></tr><tr><td style="text-align:left;"><code>schema</code></td><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">the payload schema</td></tr></tbody></table><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code> &amp; <code>Record</code>&lt;<code>EventName</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>T</code> extends <code>Type</code> ? <code>T</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>T</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>T</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>T</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>T</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>T</code>&gt; : <code>never</code>&gt;&gt;&gt;&gt;</p><h4 id="defined-in-29" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-29" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L222" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:222</a></p><hr><h3 id="caninvoke" tabindex="-1">canInvoke <a class="header-anchor" href="#caninvoke" aria-label="Permalink to &quot;canInvoke&quot;">​</a></h3><p>▸ <strong>canInvoke</strong>&lt;<code>Output</code>, <code>Payload</code>, <code>Parameter</code>, <code>SName</code>, <code>Version</code>, <code>Fname</code>&gt;(<code>serviceName</code>, <code>serviceVersion</code>, <code>serviceTarget</code>, <code>outputSchema?</code>, <code>payloadSchema?</code>, <code>parameterSchema?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code> &amp; <code>Record</code>&lt;<code>SName</code>, <code>Record</code>&lt;<code>Version</code>, <code>Record</code>&lt;<code>Fname</code>, (<code>payload</code>: <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Payload</code> extends <code>Type</code> ? <code>Payload</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Payload</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Payload</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Payload</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>Payload</code>&gt; : <code>never</code>&gt;&gt;, <code>parameter</code>: <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Type</code> ? <code>Parameter</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Parameter</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Parameter</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Parameter</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>Parameter</code>&gt; : <code>never</code>&gt;&gt;) =&gt; <code>Promise</code>&lt;<code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Output</code> extends <code>Type</code> ? <code>Output</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Output</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Output</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt;&gt;&gt;&gt;&gt;&gt;, <code>EmitListType</code>&gt;</p><h4 id="type-parameters-6" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-6" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>Output</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr><tr><td style="text-align:left;"><code>Payload</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr><tr><td style="text-align:left;"><code>Parameter</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr><tr><td style="text-align:left;"><code>SName</code></td><td style="text-align:left;">extends <code>string</code> = <code>string</code></td></tr><tr><td style="text-align:left;"><code>Version</code></td><td style="text-align:left;">extends <code>string</code> = <code>string</code></td></tr><tr><td style="text-align:left;"><code>Fname</code></td><td style="text-align:left;">extends <code>string</code> = <code>string</code></td></tr></tbody></table><h4 id="parameters-7" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-7" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>serviceName</code></td><td style="text-align:left;"><code>SName</code></td></tr><tr><td style="text-align:left;"><code>serviceVersion</code></td><td style="text-align:left;"><code>Version</code></td></tr><tr><td style="text-align:left;"><code>serviceTarget</code></td><td style="text-align:left;"><code>Fname</code></td></tr><tr><td style="text-align:left;"><code>outputSchema?</code></td><td style="text-align:left;"><code>Output</code></td></tr><tr><td style="text-align:left;"><code>payloadSchema?</code></td><td style="text-align:left;"><code>Payload</code></td></tr><tr><td style="text-align:left;"><code>parameterSchema?</code></td><td style="text-align:left;"><code>Parameter</code></td></tr></tbody></table><h4 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code> &amp; <code>Record</code>&lt;<code>SName</code>, <code>Record</code>&lt;<code>Version</code>, <code>Record</code>&lt;<code>Fname</code>, (<code>payload</code>: <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Payload</code> extends <code>Type</code> ? <code>Payload</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Payload</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Payload</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Payload</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Payload</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>Payload</code>&gt; : <code>never</code>&gt;&gt;, <code>parameter</code>: <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Type</code> ? <code>Parameter</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Parameter</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Parameter</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Parameter</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Parameter</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>Parameter</code>&gt; : <code>never</code>&gt;&gt;) =&gt; <code>Promise</code>&lt;<code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Output</code> extends <code>Type</code> ? <code>Output</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Output</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Output</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt;&gt;&gt;&gt;&gt;&gt;, <code>EmitListType</code>&gt;</p><h4 id="defined-in-30" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-30" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L147" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:147</a></p><hr><h3 id="filterformessagetype" tabindex="-1">filterForMessageType <a class="header-anchor" href="#filterformessagetype" aria-label="Permalink to &quot;filterForMessageType&quot;">​</a></h3><p>▸ <strong>filterForMessageType</strong>(<code>messageType</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Adds a filter to match specific message type.</p><p>Common message types are <code>Command</code>, <code>CommandSuccessResponse</code> and <code>CommandErrorResponse</code>.</p><p>See EBMessageType for full available list.</p><h4 id="parameters-8" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-8" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>messageType</code></td><td style="text-align:left;"><a href="./../enums/purista_core.EBMessageType.html"><code>EBMessageType</code></a></td><td style="text-align:left;">the type of message</td></tr></tbody></table><h4 id="returns-8" tabindex="-1">Returns <a class="header-anchor" href="#returns-8" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in-31" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-31" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L396" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:396</a></p><hr><h3 id="filterprincipalid" tabindex="-1">filterPrincipalId <a class="header-anchor" href="#filterprincipalid" aria-label="Permalink to &quot;filterPrincipalId&quot;">​</a></h3><p>▸ <strong>filterPrincipalId</strong>&lt;<code>T</code>&gt;(<code>principalId</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Filter messages only for principalId</p><h4 id="type-parameters-7" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-7" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>string</code></td></tr></tbody></table><h4 id="parameters-9" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-9" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>principalId</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>T</code>&gt;</td><td style="text-align:left;">the principal id to subscribe</td></tr></tbody></table><h4 id="returns-9" tabindex="-1">Returns <a class="header-anchor" href="#returns-9" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in-32" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-32" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L263" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:263</a></p><hr><h3 id="filterreceivedby" tabindex="-1">filterReceivedBy <a class="header-anchor" href="#filterreceivedby" aria-label="Permalink to &quot;filterReceivedBy&quot;">​</a></h3><p>▸ <strong>filterReceivedBy</strong>&lt;<code>N</code>, <code>V</code>, <code>T</code>, <code>I</code>&gt;(<code>serviceName</code>, <code>serviceVersion</code>, <code>serviceTarget</code>, <code>instanceId</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Add filter to only match messages received by given service function &amp; version. Set one or more parameters to undefined means &quot;do not filter by this criteria&quot;. For example:</p><p>This will filter for all messages send to function testFunction of service UserService. This will include messages from all versions of this function.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">receivedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;UserService&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;testFunction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="type-parameters-8" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-8" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>N</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>V</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>I</code></td><td style="text-align:left;">extends <code>string</code></td></tr></tbody></table><h4 id="parameters-10" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-10" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>serviceName</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>N</code>&gt;</td><td style="text-align:left;">the name of the service that consumes the message</td></tr><tr><td style="text-align:left;"><code>serviceVersion</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>V</code>&gt;</td><td style="text-align:left;">the version of the service that consumes the message</td></tr><tr><td style="text-align:left;"><code>serviceTarget</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>T</code>&gt;</td><td style="text-align:left;">the command or subscription name of the service that consumes the message</td></tr><tr><td style="text-align:left;"><code>instanceId</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>I</code>&gt;</td><td style="text-align:left;">the event bridge instance id which should receive the message</td></tr></tbody></table><h4 id="returns-10" tabindex="-1">Returns <a class="header-anchor" href="#returns-10" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in-33" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-33" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L371" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:371</a></p><hr><h3 id="filtersentfrom" tabindex="-1">filterSentFrom <a class="header-anchor" href="#filtersentfrom" aria-label="Permalink to &quot;filterSentFrom&quot;">​</a></h3><p>▸ <strong>filterSentFrom</strong>&lt;<code>N</code>, <code>V</code>, <code>T</code>, <code>I</code>&gt;(<code>serviceName</code>, <code>serviceVersion</code>, <code>serviceTarget</code>, <code>instanceId</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Add filter to only match messages send by given service function &amp; version. Set one or more parameters to undefined means &quot;do not filter by this criteria&quot;. For example:</p><p>This will filter for all messages send from function testFunction of service UserService. This will include messages from all versions of this function.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sentFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;UserService&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;testFunction&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="type-parameters-9" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-9" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>N</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>V</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>I</code></td><td style="text-align:left;">extends <code>string</code></td></tr></tbody></table><h4 id="parameters-11" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-11" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>serviceName</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>N</code>&gt;</td><td style="text-align:left;">the name of the service that produces the message</td></tr><tr><td style="text-align:left;"><code>serviceVersion</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>V</code>&gt;</td><td style="text-align:left;">the version of the service that produces the message</td></tr><tr><td style="text-align:left;"><code>serviceTarget</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>T</code>&gt;</td><td style="text-align:left;">the command or subscription name of the service that produces the message</td></tr><tr><td style="text-align:left;"><code>instanceId</code></td><td style="text-align:left;"><code>undefined</code> | <a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>I</code>&gt;</td><td style="text-align:left;">the event bridge instance id which was publishing the message</td></tr></tbody></table><h4 id="returns-11" tabindex="-1">Returns <a class="header-anchor" href="#returns-11" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in-34" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-34" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L338" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:338</a></p><hr><h3 id="filtertenantid" tabindex="-1">filterTenantId <a class="header-anchor" href="#filtertenantid" aria-label="Permalink to &quot;filterTenantId&quot;">​</a></h3><p>▸ <strong>filterTenantId</strong>&lt;<code>T</code>&gt;(<code>tenantId</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Filter messages only for tenantId</p><h4 id="type-parameters-10" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-10" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>T</code></td><td style="text-align:left;">extends <code>string</code></td></tr></tbody></table><h4 id="parameters-12" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-12" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>tenantId</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>T</code>&gt;</td><td style="text-align:left;">the principal id to subscribe</td></tr></tbody></table><h4 id="returns-12" tabindex="-1">Returns <a class="header-anchor" href="#returns-12" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><h4 id="defined-in-35" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-35" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L273" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:273</a></p><hr><h3 id="getdefinition" tabindex="-1">getDefinition <a class="header-anchor" href="#getdefinition" aria-label="Permalink to &quot;getDefinition&quot;">​</a></h3><p>▸ <strong>getDefinition</strong>(): <a href="./../modules/purista_core.html#subscriptiondefinition"><code>SubscriptionDefinition</code></a>&lt;<code>ServiceClassType</code>, <a href="./../modules/purista_core.html#subscriptiondefinitionmetadatabase"><code>SubscriptionDefinitionMetadataBase</code></a>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>Infer</code>&lt;<code>PayloadSchema</code>&gt;, <code>Infer</code>&lt;<code>ParameterSchema</code>&gt;, <code>Infer</code>&lt;<code>ResultSchema</code>&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Returns the final subscription definition which will be passed into the service class.</p><h4 id="returns-13" tabindex="-1">Returns <a class="header-anchor" href="#returns-13" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./../modules/purista_core.html#subscriptiondefinition"><code>SubscriptionDefinition</code></a>&lt;<code>ServiceClassType</code>, <a href="./../modules/purista_core.html#subscriptiondefinitionmetadatabase"><code>SubscriptionDefinitionMetadataBase</code></a>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>Infer</code>&lt;<code>PayloadSchema</code>&gt;, <code>Infer</code>&lt;<code>ParameterSchema</code>&gt;, <code>Infer</code>&lt;<code>ResultSchema</code>&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinition</p><h4 id="defined-in-36" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-36" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L773" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:773</a></p><hr><h3 id="getsubscriptioncontextmock" tabindex="-1">getSubscriptionContextMock <a class="header-anchor" href="#getsubscriptioncontextmock" aria-label="Permalink to &quot;getSubscriptionContextMock&quot;">​</a></h3><p>▸ <strong>getSubscriptionContextMock</strong>(<code>message</code>, <code>sandbox?</code>): <code>Object</code></p><p>Returns a mocked command function context, which can be used in unit tests.</p><h4 id="parameters-13" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-13" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>message</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>sandbox?</code></td><td style="text-align:left;"><code>SinonSandbox</code></td><td style="text-align:left;">Sinon sandbox</td></tr></tbody></table><h4 id="returns-14" tabindex="-1">Returns <a class="header-anchor" href="#returns-14" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Object</code></p><p>a mocked command function context</p><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>mock</code></td><td style="text-align:left;">{ <code>configs</code>: { <code>getConfig</code>: <a href="./../modules/purista_core.html#configgetterfunction"><code>ConfigGetterFunction</code></a> ; <code>removeConfig</code>: <a href="./../modules/purista_core.html#configdeletefunction"><code>ConfigDeleteFunction</code></a> ; <code>setConfig</code>: <a href="./../modules/purista_core.html#configsetterfunction"><code>ConfigSetterFunction</code></a> } ; <code>emit</code>: <a href="./../modules/purista_core.html#emitcustommessagefunction"><code>EmitCustomMessageFunction</code></a>&lt;{}&gt; ; <code>invoke</code>: <a href="./../modules/purista_core.html#invokefunction"><code>InvokeFunction</code></a> ; <code>logger</code>: <a href="./purista_core.Logger.html"><code>Logger</code></a> ; <code>message</code>: <code>Readonly</code>&lt;<a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a>&gt; ; <code>secrets</code>: { <code>getSecret</code>: <a href="./../modules/purista_core.html#secretgetterfunction"><code>SecretGetterFunction</code></a> ; <code>removeSecret</code>: <a href="./../modules/purista_core.html#secretdeletefunction"><code>SecretDeleteFunction</code></a> ; <code>setSecret</code>: <a href="./../modules/purista_core.html#secretsetterfunction"><code>SecretSetterFunction</code></a> } ; <code>service</code>: <code>Invokes</code> ; <code>startActiveSpan</code>: &lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>context</code>: <code>undefined</code> | <code>Context</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;) =&gt; <code>Promise</code>&lt;<code>F</code>&gt; ; <code>states</code>: { <code>getState</code>: <a href="./../modules/purista_core.html#stategetterfunction"><code>StateGetterFunction</code></a> ; <code>removeState</code>: <a href="./../modules/purista_core.html#statedeletefunction"><code>StateDeleteFunction</code></a> ; <code>setState</code>: <a href="./../modules/purista_core.html#statesetterfunction"><code>StateSetterFunction</code></a> } ; <code>wrapInSpan</code>: &lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;, <code>context?</code>: <code>Context</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt; }</td></tr><tr><td style="text-align:left;"><code>mock.configs</code></td><td style="text-align:left;">{ <code>getConfig</code>: <a href="./../modules/purista_core.html#configgetterfunction"><code>ConfigGetterFunction</code></a> ; <code>removeConfig</code>: <a href="./../modules/purista_core.html#configdeletefunction"><code>ConfigDeleteFunction</code></a> ; <code>setConfig</code>: <a href="./../modules/purista_core.html#configsetterfunction"><code>ConfigSetterFunction</code></a> }</td></tr><tr><td style="text-align:left;"><code>mock.configs.getConfig</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#configgetterfunction"><code>ConfigGetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.configs.removeConfig</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#configdeletefunction"><code>ConfigDeleteFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.configs.setConfig</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#configsetterfunction"><code>ConfigSetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.emit</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#emitcustommessagefunction"><code>EmitCustomMessageFunction</code></a>&lt;{}&gt;</td></tr><tr><td style="text-align:left;"><code>mock.invoke</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#invokefunction"><code>InvokeFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.logger</code></td><td style="text-align:left;"><a href="./purista_core.Logger.html"><code>Logger</code></a></td></tr><tr><td style="text-align:left;"><code>mock.message</code></td><td style="text-align:left;"><code>Readonly</code>&lt;<a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a>&gt;</td></tr><tr><td style="text-align:left;"><code>mock.secrets</code></td><td style="text-align:left;">{ <code>getSecret</code>: <a href="./../modules/purista_core.html#secretgetterfunction"><code>SecretGetterFunction</code></a> ; <code>removeSecret</code>: <a href="./../modules/purista_core.html#secretdeletefunction"><code>SecretDeleteFunction</code></a> ; <code>setSecret</code>: <a href="./../modules/purista_core.html#secretsetterfunction"><code>SecretSetterFunction</code></a> }</td></tr><tr><td style="text-align:left;"><code>mock.secrets.getSecret</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#secretgetterfunction"><code>SecretGetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.secrets.removeSecret</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#secretdeletefunction"><code>SecretDeleteFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.secrets.setSecret</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#secretsetterfunction"><code>SecretSetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.service</code></td><td style="text-align:left;"><code>Invokes</code></td></tr><tr><td style="text-align:left;"><code>mock.startActiveSpan</code></td><td style="text-align:left;">&lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>context</code>: <code>undefined</code> | <code>Context</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;</td></tr><tr><td style="text-align:left;"><code>mock.states</code></td><td style="text-align:left;">{ <code>getState</code>: <a href="./../modules/purista_core.html#stategetterfunction"><code>StateGetterFunction</code></a> ; <code>removeState</code>: <a href="./../modules/purista_core.html#statedeletefunction"><code>StateDeleteFunction</code></a> ; <code>setState</code>: <a href="./../modules/purista_core.html#statesetterfunction"><code>StateSetterFunction</code></a> }</td></tr><tr><td style="text-align:left;"><code>mock.states.getState</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#stategetterfunction"><code>StateGetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.states.removeState</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#statedeletefunction"><code>StateDeleteFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.states.setState</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#statesetterfunction"><code>StateSetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.wrapInSpan</code></td><td style="text-align:left;">&lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;, <code>context?</code>: <code>Context</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs</code></td><td style="text-align:left;">{ <code>emit</code>: <a href="./../modules/purista_core.html#fromemittoothertype"><code>FromEmitToOtherType</code></a>&lt;<code>EmitListType</code>, <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;&gt; = eventList; <code>getConfig</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>getSecret</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>getState</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>invoke</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>logger</code>: { <code>debug</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>error</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>fatal</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>info</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>trace</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>warn</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; } = logger.stubs; <code>removeConfig</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>removeSecret</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>removeState</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>service</code>: <a href="./../modules/purista_core.html#frominvoketoothertype"><code>FromInvokeToOtherType</code></a>&lt;<code>Invokes</code>, <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;&gt; ; <code>setConfig</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>setSecret</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>setState</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>startActiveSpan</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>wrapInSpan</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; }</td></tr><tr><td style="text-align:left;"><code>stubs.emit</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#fromemittoothertype"><code>FromEmitToOtherType</code></a>&lt;<code>EmitListType</code>, <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.getConfig</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.getSecret</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.getState</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.invoke</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger</code></td><td style="text-align:left;">{ <code>debug</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>error</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>fatal</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>info</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>trace</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>warn</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; }</td></tr><tr><td style="text-align:left;"><code>stubs.logger.debug</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.error</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.fatal</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.info</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.trace</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.warn</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.removeConfig</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.removeSecret</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.removeState</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.service</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#frominvoketoothertype"><code>FromInvokeToOtherType</code></a>&lt;<code>Invokes</code>, <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.setConfig</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.setSecret</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.setState</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.startActiveSpan</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.wrapInSpan</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr></tbody></table><h4 id="defined-in-37" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-37" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L856" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:856</a></p><hr><h3 id="getsubscriptionfunction" tabindex="-1">getSubscriptionFunction <a class="header-anchor" href="#getsubscriptionfunction" aria-label="Permalink to &quot;getSubscriptionFunction&quot;">​</a></h3><p>▸ <strong>getSubscriptionFunction</strong>(): <a href="./../modules/purista_core.html#subscriptionfunction"><code>SubscriptionFunction</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Get the function implementation including input and output validation. Also, before and after hooks are triggered during execution.</p><h4 id="returns-15" tabindex="-1">Returns <a class="header-anchor" href="#returns-15" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./../modules/purista_core.html#subscriptionfunction"><code>SubscriptionFunction</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>the subscription function</p><h4 id="defined-in-38" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-38" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L713" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:713</a></p><hr><h3 id="getsubscriptionfunctionplain" tabindex="-1">getSubscriptionFunctionPlain <a class="header-anchor" href="#getsubscriptionfunctionplain" aria-label="Permalink to &quot;getSubscriptionFunctionPlain&quot;">​</a></h3><p>▸ <strong>getSubscriptionFunctionPlain</strong>(): <code>void</code></p><p>Get the function implementation without input and output validation. No hooks are triggered during execution.</p><h4 id="returns-16" tabindex="-1">Returns <a class="header-anchor" href="#returns-16" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>void</code></p><p>the subscription function</p><h4 id="defined-in-39" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-39" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L750" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:750</a></p><hr><h3 id="getsubscriptiontransformcontextmock" tabindex="-1">getSubscriptionTransformContextMock <a class="header-anchor" href="#getsubscriptiontransformcontextmock" aria-label="Permalink to &quot;getSubscriptionTransformContextMock&quot;">​</a></h3><p>▸ <strong>getSubscriptionTransformContextMock</strong>(<code>message</code>, <code>sandbox?</code>): <code>Object</code></p><p>Returns a mocked transform function context, which can be used in unit tests.</p><h4 id="parameters-14" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-14" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>message</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>sandbox?</code></td><td style="text-align:left;"><code>SinonSandbox</code></td><td style="text-align:left;">Sinon sandbox</td></tr></tbody></table><h4 id="returns-17" tabindex="-1">Returns <a class="header-anchor" href="#returns-17" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>Object</code></p><p>a mocked transform function context</p><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>mock</code></td><td style="text-align:left;">{ <code>configs</code>: { <code>getConfig</code>: <a href="./../modules/purista_core.html#configgetterfunction"><code>ConfigGetterFunction</code></a> ; <code>removeConfig</code>: <a href="./../modules/purista_core.html#configdeletefunction"><code>ConfigDeleteFunction</code></a> ; <code>setConfig</code>: <a href="./../modules/purista_core.html#configsetterfunction"><code>ConfigSetterFunction</code></a> } ; <code>logger</code>: <a href="./purista_core.Logger.html"><code>Logger</code></a> ; <code>message</code>: <code>Readonly</code>&lt;<a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a>&gt; ; <code>secrets</code>: { <code>getSecret</code>: <a href="./../modules/purista_core.html#secretgetterfunction"><code>SecretGetterFunction</code></a> ; <code>removeSecret</code>: <a href="./../modules/purista_core.html#secretdeletefunction"><code>SecretDeleteFunction</code></a> ; <code>setSecret</code>: <a href="./../modules/purista_core.html#secretsetterfunction"><code>SecretSetterFunction</code></a> } ; <code>startActiveSpan</code>: &lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>context</code>: <code>undefined</code> | <code>Context</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;) =&gt; <code>Promise</code>&lt;<code>F</code>&gt; ; <code>states</code>: { <code>getState</code>: <a href="./../modules/purista_core.html#stategetterfunction"><code>StateGetterFunction</code></a> ; <code>removeState</code>: <a href="./../modules/purista_core.html#statedeletefunction"><code>StateDeleteFunction</code></a> ; <code>setState</code>: <a href="./../modules/purista_core.html#statesetterfunction"><code>StateSetterFunction</code></a> } ; <code>wrapInSpan</code>: &lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;, <code>context?</code>: <code>Context</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt; }</td></tr><tr><td style="text-align:left;"><code>mock.configs</code></td><td style="text-align:left;">{ <code>getConfig</code>: <a href="./../modules/purista_core.html#configgetterfunction"><code>ConfigGetterFunction</code></a> ; <code>removeConfig</code>: <a href="./../modules/purista_core.html#configdeletefunction"><code>ConfigDeleteFunction</code></a> ; <code>setConfig</code>: <a href="./../modules/purista_core.html#configsetterfunction"><code>ConfigSetterFunction</code></a> }</td></tr><tr><td style="text-align:left;"><code>mock.configs.getConfig</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#configgetterfunction"><code>ConfigGetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.configs.removeConfig</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#configdeletefunction"><code>ConfigDeleteFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.configs.setConfig</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#configsetterfunction"><code>ConfigSetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.logger</code></td><td style="text-align:left;"><a href="./purista_core.Logger.html"><code>Logger</code></a></td></tr><tr><td style="text-align:left;"><code>mock.message</code></td><td style="text-align:left;"><code>Readonly</code>&lt;<a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a>&gt;</td></tr><tr><td style="text-align:left;"><code>mock.secrets</code></td><td style="text-align:left;">{ <code>getSecret</code>: <a href="./../modules/purista_core.html#secretgetterfunction"><code>SecretGetterFunction</code></a> ; <code>removeSecret</code>: <a href="./../modules/purista_core.html#secretdeletefunction"><code>SecretDeleteFunction</code></a> ; <code>setSecret</code>: <a href="./../modules/purista_core.html#secretsetterfunction"><code>SecretSetterFunction</code></a> }</td></tr><tr><td style="text-align:left;"><code>mock.secrets.getSecret</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#secretgetterfunction"><code>SecretGetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.secrets.removeSecret</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#secretdeletefunction"><code>SecretDeleteFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.secrets.setSecret</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#secretsetterfunction"><code>SecretSetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.startActiveSpan</code></td><td style="text-align:left;">&lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>context</code>: <code>undefined</code> | <code>Context</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;</td></tr><tr><td style="text-align:left;"><code>mock.states</code></td><td style="text-align:left;">{ <code>getState</code>: <a href="./../modules/purista_core.html#stategetterfunction"><code>StateGetterFunction</code></a> ; <code>removeState</code>: <a href="./../modules/purista_core.html#statedeletefunction"><code>StateDeleteFunction</code></a> ; <code>setState</code>: <a href="./../modules/purista_core.html#statesetterfunction"><code>StateSetterFunction</code></a> }</td></tr><tr><td style="text-align:left;"><code>mock.states.getState</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#stategetterfunction"><code>StateGetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.states.removeState</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#statedeletefunction"><code>StateDeleteFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.states.setState</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#statesetterfunction"><code>StateSetterFunction</code></a></td></tr><tr><td style="text-align:left;"><code>mock.wrapInSpan</code></td><td style="text-align:left;">&lt;F&gt;(<code>name</code>: <code>string</code>, <code>opts</code>: <code>SpanOptions</code>, <code>fn</code>: (<code>span</code>: <code>Span</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;, <code>context?</code>: <code>Context</code>) =&gt; <code>Promise</code>&lt;<code>F</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs</code></td><td style="text-align:left;">{ <code>getConfig</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>getSecret</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>getState</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>logger</code>: { <code>debug</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>error</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>fatal</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>info</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>trace</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>warn</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; } = logger.stubs; <code>removeConfig</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>removeSecret</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>removeState</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>setConfig</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>setSecret</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>setState</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>startActiveSpan</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>wrapInSpan</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; }</td></tr><tr><td style="text-align:left;"><code>stubs.getConfig</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.getSecret</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.getState</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger</code></td><td style="text-align:left;">{ <code>debug</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>error</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>fatal</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>info</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>trace</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; ; <code>warn</code>: <code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt; }</td></tr><tr><td style="text-align:left;"><code>stubs.logger.debug</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.error</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.fatal</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.info</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.trace</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.logger.warn</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.removeConfig</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.removeSecret</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.removeState</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.setConfig</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.setSecret</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.setState</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.startActiveSpan</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr><tr><td style="text-align:left;"><code>stubs.wrapInSpan</code></td><td style="text-align:left;"><code>SinonStub</code>&lt;<code>any</code>[], <code>any</code>&gt;</td></tr></tbody></table><h4 id="defined-in-40" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-40" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L867" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:867</a></p><hr><h3 id="gettransforminputfunction" tabindex="-1">getTransformInputFunction <a class="header-anchor" href="#gettransforminputfunction" aria-label="Permalink to &quot;getTransformInputFunction&quot;">​</a></h3><p>▸ <strong>getTransformInputFunction</strong>(): <code>undefined</code> | <a href="./../modules/purista_core.html#subscriptiontransforminputhook"><code>SubscriptionTransformInputHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>MessagePayloadType</code>, <code>MessageParamsType</code>&gt;</p><p>Return the transform input function</p><h4 id="returns-18" tabindex="-1">Returns <a class="header-anchor" href="#returns-18" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>undefined</code> | <a href="./../modules/purista_core.html#subscriptiontransforminputhook"><code>SubscriptionTransformInputHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>MessagePayloadType</code>, <code>MessageParamsType</code>&gt;</p><p>the input transform function if defined</p><h4 id="defined-in-41" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-41" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L534" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:534</a></p><hr><h3 id="gettransformoutputfunction" tabindex="-1">getTransformOutputFunction <a class="header-anchor" href="#gettransformoutputfunction" aria-label="Permalink to &quot;getTransformOutputFunction&quot;">​</a></h3><p>▸ <strong>getTransformOutputFunction</strong>(): <code>undefined</code> | <a href="./../modules/purista_core.html#subscriptiontransformoutputhook"><code>SubscriptionTransformOutputHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;&gt;</p><p>Return the transform output function</p><h4 id="returns-19" tabindex="-1">Returns <a class="header-anchor" href="#returns-19" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><code>undefined</code> | <a href="./../modules/purista_core.html#subscriptiontransformoutputhook"><code>SubscriptionTransformOutputHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;&gt;</p><p>the transform output function if defined</p><h4 id="defined-in-42" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-42" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L593" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:593</a></p><hr><h3 id="receivemessageoneveryinstance" tabindex="-1">receiveMessageOnEveryInstance <a class="header-anchor" href="#receivemessageoneveryinstance" aria-label="Permalink to &quot;receiveMessageOnEveryInstance&quot;">​</a></h3><p>▸ <strong>receiveMessageOnEveryInstance</strong>(<code>enforce?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Instruct the event bridge message broker to send the matching message to every running instance. The underlaying message broker must support this functionality.</p><p>In serverless environments, this flag should not have any effect</p><h4 id="parameters-15" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-15" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Default value</th></tr></thead><tbody><tr><td style="text-align:left;"><code>enforce</code></td><td style="text-align:left;"><code>boolean</code></td><td style="text-align:left;"><code>true</code></td></tr></tbody></table><h4 id="returns-20" tabindex="-1">Returns <a class="header-anchor" href="#returns-20" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinition</p><h4 id="defined-in-43" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-43" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L304" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:304</a></p><hr><h3 id="setafterguardhooks" tabindex="-1">setAfterGuardHooks <a class="header-anchor" href="#setafterguardhooks" aria-label="Permalink to &quot;setAfterGuardHooks&quot;">​</a></h3><p>▸ <strong>setAfterGuardHooks</strong>(<code>afterGuards</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Set one or more after guard hook(s). If there are multiple after guard hooks, they are executed in parallel</p><h4 id="parameters-16" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-16" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>afterGuards</code></td><td style="text-align:left;"><code>Record</code>&lt;<code>string</code>, <a href="./../modules/purista_core.html#subscriptionafterguardhook"><code>SubscriptionAfterGuardHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;&gt;</td></tr></tbody></table><h4 id="returns-21" tabindex="-1">Returns <a class="header-anchor" href="#returns-21" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-44" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-44" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L628" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:628</a></p><hr><h3 id="setbeforeguardhooks" tabindex="-1">setBeforeGuardHooks <a class="header-anchor" href="#setbeforeguardhooks" aria-label="Permalink to &quot;setBeforeGuardHooks&quot;">​</a></h3><p>▸ <strong>setBeforeGuardHooks</strong>(<code>beforeGuards</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Set one or more before guard hook(s). If there are multiple before guard hooks, they are executed in parallel</p><h4 id="parameters-17" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-17" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>beforeGuards</code></td><td style="text-align:left;"><code>Record</code>&lt;<code>string</code>, <a href="./../modules/purista_core.html#subscriptionbeforeguardhook"><code>SubscriptionBeforeGuardHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;&gt;</td><td style="text-align:left;">Object of key = name of guard, value = function</td></tr></tbody></table><h4 id="returns-22" tabindex="-1">Returns <a class="header-anchor" href="#returns-22" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-45" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-45" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L612" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:612</a></p><hr><h3 id="setsubscriptionfunction" tabindex="-1">setSubscriptionFunction <a class="header-anchor" href="#setsubscriptionfunction" aria-label="Permalink to &quot;setSubscriptionFunction&quot;">​</a></h3><p>▸ <strong>setSubscriptionFunction</strong>(<code>fn</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Required: Set the function implementation. The types should be automatically set as soon as schemas previously defined. As the function will be a a function of a service class you need to implement as function declaration. Anonymous functions do not have access to the <code>this</code> scope.</p><h4 id="parameters-18" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-18" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>fn</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#subscriptionfunction"><code>SubscriptionFunction</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>Infer</code>&lt;<code>PayloadSchema</code>&gt;, <code>Infer</code>&lt;<code>ParameterSchema</code>&gt;, <code>Infer</code>&lt;<code>ResultSchema</code>&gt;, <code>Invokes</code>, <code>EmitListType</code>&gt;</td><td style="text-align:left;">the function implementation</td></tr></tbody></table><h4 id="returns-23" tabindex="-1">Returns <a class="header-anchor" href="#returns-23" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><p><strong><code>Example</code></strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">parameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`the result output payload\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="defined-in-46" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-46" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L661" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:661</a></p><hr><h3 id="settransforminput" tabindex="-1">setTransformInput <a class="header-anchor" href="#settransforminput" aria-label="Permalink to &quot;setTransformInput&quot;">​</a></h3><p>▸ <strong>setTransformInput</strong>&lt;<code>TransFormPayloadSchema</code>, <code>TransFormParameterSchema</code>&gt;(<code>transformInputSchema</code>, <code>transformParameterSchema</code>, <code>transformFunction</code>, <code>inputContentType?</code>, <code>inputContentEncoding?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Type</code> ? <code>TransFormPayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>TransFormPayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>TransFormPayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>TransFormPayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>TransFormPayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Type</code> ? <code>TransFormParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>TransFormParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>TransFormParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>TransFormParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>TransFormParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Set a transform input hook which will encode or transform the input payload and parameters. Will be executed as first step before input validation, before guard and the function itself. This will change the type of input message payload and input message parameter.</p><h4 id="type-parameters-11" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-11" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>TransFormPayloadSchema</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr><tr><td style="text-align:left;"><code>TransFormParameterSchema</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr></tbody></table><h4 id="parameters-19" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-19" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>transformInputSchema</code></td><td style="text-align:left;"><code>TransFormPayloadSchema</code></td><td style="text-align:left;">Input payload validation schema</td></tr><tr><td style="text-align:left;"><code>transformParameterSchema</code></td><td style="text-align:left;"><code>TransFormParameterSchema</code></td><td style="text-align:left;">Input parameter validation schema</td></tr><tr><td style="text-align:left;"><code>transformFunction</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#subscriptiontransforminputhook"><code>SubscriptionTransformInputHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Type</code> ? <code>PayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>PayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>PayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>PayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>PayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Type</code> ? <code>TransFormPayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>TransFormPayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>TransFormPayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>TransFormPayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>TransFormPayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Type</code> ? <code>TransFormParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>TransFormParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>TransFormParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>TransFormParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>TransFormParameterSchema</code>&gt; : <code>never</code>&gt;&gt;&gt;</td><td style="text-align:left;">the transform input function</td></tr><tr><td style="text-align:left;"><code>inputContentType?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">optional the content type of payload</td></tr><tr><td style="text-align:left;"><code>inputContentEncoding?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">optional the content encoding</td></tr></tbody></table><h4 id="returns-24" tabindex="-1">Returns <a class="header-anchor" href="#returns-24" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Type</code> ? <code>TransFormPayloadSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>TransFormPayloadSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>TransFormPayloadSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>TransFormPayloadSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormPayloadSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>TransFormPayloadSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Type</code> ? <code>TransFormParameterSchema</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>TransFormParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>TransFormParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>TransFormParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>TransFormParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>TransFormParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-47" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-47" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L496" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:496</a></p><hr><h3 id="settransformoutput" tabindex="-1">setTransformOutput <a class="header-anchor" href="#settransformoutput" aria-label="Permalink to &quot;setTransformOutput&quot;">​</a></h3><p>▸ <strong>setTransformOutput</strong>&lt;<code>Output</code>&gt;(<code>transformOutputSchema</code>, <code>transformFunction</code>, <code>outputContentType?</code>, <code>outputContentEncoding?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Output</code> extends <code>Type</code> ? <code>Output</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Output</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Output</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt;&gt;, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Set a transform output hook which will encode or transform the response payload. Will be executed at very last step after function execution, output validation and after guard hooks. This will change the type of output message payload.</p><h4 id="type-parameters-12" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-12" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>Output</code></td><td style="text-align:left;">extends <code>Schema</code></td></tr></tbody></table><h4 id="parameters-20" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-20" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>transformOutputSchema</code></td><td style="text-align:left;"><code>Output</code></td><td style="text-align:left;">The output validation schema</td></tr><tr><td style="text-align:left;"><code>transformFunction</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#subscriptiontransformoutputhook"><code>SubscriptionTransformOutputHook</code></a>&lt;<code>ServiceClassType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Type</code> ? <code>ResultSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ResultSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ResultSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ResultSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ResultSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Type</code> ? <code>ParameterSchema</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>ParameterSchema</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>ParameterSchema</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>ParameterSchema</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>ParameterSchema</code>&gt; : <code>never</code>&gt;&gt;, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Output</code> extends <code>Type</code> ? <code>Output</code>[<code>&quot;inferIn&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Output</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Output</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>From</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Any</code> ? <code>OutputOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>any</code> ? <code>Input</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>input</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt;&gt;&gt;</td><td style="text-align:left;">the transform output function</td></tr><tr><td style="text-align:left;"><code>outputContentType?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">optional the content type of payload</td></tr><tr><td style="text-align:left;"><code>outputContentEncoding?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">optional the content encoding</td></tr></tbody></table><h4 id="returns-25" tabindex="-1">Returns <a class="header-anchor" href="#returns-25" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>UnknownIfNever</code>&lt;<code>IfDefined</code>&lt;<code>Output</code> extends <code>Type</code> ? <code>Output</code>[<code>&quot;infer&quot;</code>] : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>CustomSchema</code>&lt;<code>any</code>&gt; ? keyof <code>Output</code> extends <code>never</code> ? <code>Awaited</code>&lt;<code>ReturnType</code>&lt;<code>Output</code>&gt;&gt; : <code>never</code> : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$1</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>To</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Any</code> ? <code>TypeOf</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Predicate</code> ? <code>Infer$1</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Runtype</code> ? <code>Static</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Struct</code>&lt;<code>any</code>, <code>any</code>&gt; ? <code>Infer$2</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>TSchema</code> ? <code>Static</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>any</code> ? <code>Output</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>Schema$2</code> ? <code>InferType</code>&lt;<code>this</code>[<code>&quot;schema&quot;</code>]&gt; : <code>never</code>&gt; | <code>IfDefined</code>&lt;<code>Output</code> extends <code>ZodType</code>&lt;<code>any</code>, <code>ZodTypeDef</code>, <code>any</code>&gt; ? <code>output</code>&lt;<code>Output</code>&gt; : <code>never</code>&gt;&gt;, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-48" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-48" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L558" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:558</a></p><hr><h3 id="subscribetoevent" tabindex="-1">subscribeToEvent <a class="header-anchor" href="#subscribetoevent" aria-label="Permalink to &quot;subscribeToEvent&quot;">​</a></h3><p>▸ <strong>subscribeToEvent</strong>&lt;<code>N</code>, <code>V</code>&gt;(<code>eventName</code>, <code>serviceVersion?</code>): <a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>Add a filter to only subscribe to messages with matching event name</p><h4 id="type-parameters-13" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-13" aria-label="Permalink to &quot;Type parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>N</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>V</code></td><td style="text-align:left;">extends <code>string</code></td></tr></tbody></table><h4 id="parameters-21" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-21" aria-label="Permalink to &quot;Parameters&quot;">​</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>eventName</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>N</code>&gt;</td><td style="text-align:left;">The name of event to subscribe</td></tr><tr><td style="text-align:left;"><code>serviceVersion?</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#nonemptystring"><code>NonEmptyString</code></a>&lt;<code>V</code>&gt;</td><td style="text-align:left;">the version of the service that produces the event</td></tr></tbody></table><h4 id="returns-26" tabindex="-1">Returns <a class="header-anchor" href="#returns-26" aria-label="Permalink to &quot;Returns&quot;">​</a></h4><p><a href="./purista_core.SubscriptionDefinitionBuilder.html"><code>SubscriptionDefinitionBuilder</code></a>&lt;<code>ServiceClassType</code>, <code>MessagePayloadType</code>, <code>MessageParamsType</code>, <code>MessageResultType</code>, <code>PayloadSchema</code>, <code>ParameterSchema</code>, <code>ResultSchema</code>, <code>Invokes</code>, <code>EmitListType</code>&gt;</p><p>SubscriptionDefinitionBuilder</p><h4 id="defined-in-49" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-49" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/core/src/SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts#L248" target="_blank" rel="noreferrer">SubscriptionDefinitionBuilder/SubscriptionDefinitionBuilder.impl.ts:248</a></p>`,451),n=[a];function i(r,s,l,u,h,f){return d(),o("div",null,n)}const p=e(c,[["render",i]]);export{g as __pageData,p as default};
