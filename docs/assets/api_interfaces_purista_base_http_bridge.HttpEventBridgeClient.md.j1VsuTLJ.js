import{_ as e,c as t,o as d,V as a}from"./chunks/framework.ITQiifkM.js";const u=JSON.parse('{"title":"Interface: HttpEventBridgeClient","description":"","frontmatter":{},"headers":[],"relativePath":"api/interfaces/purista_base_http_bridge.HttpEventBridgeClient.md","filePath":"api/interfaces/purista_base_http_bridge.HttpEventBridgeClient.md","lastUpdated":1707653747000}'),o={name:"api/interfaces/purista_base_http_bridge.HttpEventBridgeClient.md"},r=a('<p><a href="./../README.html">PURISTA API</a> / <a href="./../modules.html">Modules</a> / <a href="./../modules/purista_base_http_bridge.html">@purista/base-http-bridge</a> / HttpEventBridgeClient</p><h1 id="interface-httpeventbridgeclient" tabindex="-1">Interface: HttpEventBridgeClient <a class="header-anchor" href="#interface-httpeventbridgeclient" aria-label="Permalink to &quot;Interface: HttpEventBridgeClient&quot;">​</a></h1><p><a href="./../modules/purista_base_http_bridge.html">@purista/base-http-bridge</a>.HttpEventBridgeClient</p><p>The HttpEventBridgeClient connects the HTTPEventBridge with the sidecar service. This client is responsible for the communication to the sidecar service.</p><h2 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of contents&quot;">​</a></h2><h3 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-label="Permalink to &quot;Properties&quot;">​</a></h3><ul><li><a href="./purista_base_http_bridge.HttpEventBridgeClient.html#getapipathforcommand">getApiPathForCommand</a></li><li><a href="./purista_base_http_bridge.HttpEventBridgeClient.html#getinternalpathforcommand">getInternalPathForCommand</a></li><li><a href="./purista_base_http_bridge.HttpEventBridgeClient.html#getinternalpathforsubscription">getInternalPathForSubscription</a></li><li><a href="./purista_base_http_bridge.HttpEventBridgeClient.html#invoke">invoke</a></li><li><a href="./purista_base_http_bridge.HttpEventBridgeClient.html#issidecaravailable">isSidecarAvailable</a></li><li><a href="./purista_base_http_bridge.HttpEventBridgeClient.html#sendevent">sendEvent</a></li></ul><h2 id="properties-1" tabindex="-1">Properties <a class="header-anchor" href="#properties-1" aria-label="Permalink to &quot;Properties&quot;">​</a></h2><h3 id="getapipathforcommand" tabindex="-1">getApiPathForCommand <a class="header-anchor" href="#getapipathforcommand" aria-label="Permalink to &quot;getApiPathForCommand&quot;">​</a></h3><p>• <strong>getApiPathForCommand</strong>: (<code>addess</code>: <a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a>, <code>metadata</code>: { <code>expose</code>: { <code>contentEncodingRequest?</code>: <code>string</code> ; <code>contentEncodingResponse?</code>: <code>string</code> ; <code>contentTypeRequest?</code>: <code>string</code> ; <code>contentTypeResponse?</code>: <code>string</code> ; <code>deprecated?</code>: <code>boolean</code> ; <code>inputPayload?</code>: <code>SchemaObject</code> ; <code>outputPayload?</code>: <code>SchemaObject</code> ; <code>parameter?</code>: <code>SchemaObject</code> } &amp; { <code>http</code>: { <code>method</code>: <code>&quot;POST&quot;</code> | <code>&quot;PUT&quot;</code> | <code>&quot;PATCH&quot;</code> | <code>&quot;GET&quot;</code> | <code>&quot;DELETE&quot;</code> ; <code>openApi?</code>: { <code>additionalStatusCodes?</code>: <a href="./../enums/purista_core.StatusCode.html"><code>StatusCode</code></a>[] ; <code>description</code>: <code>string</code> ; <code>isSecure</code>: <code>boolean</code> ; <code>operationId?</code>: <code>string</code> ; <code>query?</code>: <a href="./../modules/purista_core.html#queryparameter"><code>QueryParameter</code></a>&lt;{}&gt;[] ; <code>summary</code>: <code>string</code> ; <code>tags?</code>: <code>string</code>[] } ; <code>path</code>: <code>string</code> } } }) =&gt; <code>string</code></p><p>Generate the url path of the command based on the command builder <code>exposeAsHttpEndpoint</code> settings. This url is a POST endpoint and expects the payload and parameter as defined for exposing.</p><p><strong><code>Param</code></strong></p><h4 id="type-declaration" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (<code>addess</code>, <code>metadata</code>): <code>string</code></p><p>Generate the url path of the command based on the command builder <code>exposeAsHttpEndpoint</code> settings. This url is a POST endpoint and expects the payload and parameter as defined for exposing.</p><h5 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>addess</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a></td></tr><tr><td style="text-align:left;"><code>metadata</code></td><td style="text-align:left;"><code>Object</code></td></tr><tr><td style="text-align:left;"><code>metadata.expose</code></td><td style="text-align:left;">{ <code>contentEncodingRequest?</code>: <code>string</code> ; <code>contentEncodingResponse?</code>: <code>string</code> ; <code>contentTypeRequest?</code>: <code>string</code> ; <code>contentTypeResponse?</code>: <code>string</code> ; <code>deprecated?</code>: <code>boolean</code> ; <code>inputPayload?</code>: <code>SchemaObject</code> ; <code>outputPayload?</code>: <code>SchemaObject</code> ; <code>parameter?</code>: <code>SchemaObject</code> } &amp; { <code>http</code>: { <code>method</code>: <code>&quot;POST&quot;</code> | <code>&quot;PUT&quot;</code> | <code>&quot;PATCH&quot;</code> | <code>&quot;GET&quot;</code> | <code>&quot;DELETE&quot;</code> ; <code>openApi?</code>: { <code>additionalStatusCodes?</code>: <a href="./../enums/purista_core.StatusCode.html"><code>StatusCode</code></a>[] ; <code>description</code>: <code>string</code> ; <code>isSecure</code>: <code>boolean</code> ; <code>operationId?</code>: <code>string</code> ; <code>query?</code>: <a href="./../modules/purista_core.html#queryparameter"><code>QueryParameter</code></a>&lt;{}&gt;[] ; <code>summary</code>: <code>string</code> ; <code>tags?</code>: <code>string</code>[] } ; <code>path</code>: <code>string</code> } }</td></tr></tbody></table><h5 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>string</code></p><p>url path of endpoint</p><h4 id="defined-in" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts#L22" target="_blank" rel="noreferrer">base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts:22</a></p><hr><h3 id="getinternalpathforcommand" tabindex="-1">getInternalPathForCommand <a class="header-anchor" href="#getinternalpathforcommand" aria-label="Permalink to &quot;getInternalPathForCommand&quot;">​</a></h3><p>• <strong>getInternalPathForCommand</strong>: (<code>address</code>: <a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a>) =&gt; <code>string</code></p><p>Generate the url path of the command. This url is a POST endpoint and expects a command message as payload</p><p><strong><code>Param</code></strong></p><h4 id="type-declaration-1" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-1" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (<code>address</code>): <code>string</code></p><p>Generate the url path of the command. This url is a POST endpoint and expects a command message as payload</p><h5 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>address</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a></td></tr></tbody></table><h5 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>string</code></p><p>url path of endpoint</p><h4 id="defined-in-1" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-1" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts#L14" target="_blank" rel="noreferrer">base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts:14</a></p><hr><h3 id="getinternalpathforsubscription" tabindex="-1">getInternalPathForSubscription <a class="header-anchor" href="#getinternalpathforsubscription" aria-label="Permalink to &quot;getInternalPathForSubscription&quot;">​</a></h3><p>• <strong>getInternalPathForSubscription</strong>: (<code>address</code>: <a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a>) =&gt; <code>string</code></p><p>Generate the url path of the subscription. This url is a POST endpoint. The expected payload is a EBMessage or an CloudEvent with an EBMessage as data depending on config settings</p><p><strong><code>Param</code></strong></p><h4 id="type-declaration-2" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-2" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (<code>address</code>): <code>string</code></p><p>Generate the url path of the subscription. This url is a POST endpoint. The expected payload is a EBMessage or an CloudEvent with an EBMessage as data depending on config settings</p><h5 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>address</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a></td></tr></tbody></table><h5 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>string</code></p><p>url path of endpoint</p><h4 id="defined-in-2" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-2" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts#L31" target="_blank" rel="noreferrer">base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts:31</a></p><hr><h3 id="invoke" tabindex="-1">invoke <a class="header-anchor" href="#invoke" aria-label="Permalink to &quot;invoke&quot;">​</a></h3><p>• <strong>invoke</strong>: (<code>command</code>: { <code>contentEncoding</code>: <code>string</code> ; <code>contentType</code>: <code>string</code> ; <code>correlationId</code>: <code>string</code> ; <code>eventName?</code>: <code>string</code> ; <code>id</code>: <code>string</code> ; <code>messageType</code>: <a href="./../enums/purista_core.EBMessageType.html#command"><code>Command</code></a> ; <code>otp?</code>: <code>string</code> ; <code>payload</code>: { <code>parameter</code>: <code>unknown</code> ; <code>payload</code>: <code>unknown</code> } ; <code>principalId?</code>: <code>string</code> ; <code>receiver</code>: <a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a> ; <code>sender</code>: { <code>instanceId</code>: <code>string</code> ; <code>serviceName</code>: <code>string</code> ; <code>serviceTarget</code>: <code>string</code> ; <code>serviceVersion</code>: <code>string</code> } ; <code>tenantId?</code>: <code>string</code> ; <code>timestamp</code>: <code>number</code> ; <code>traceId?</code>: <code>string</code> }, <code>headers?</code>: <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;, <code>timeout?</code>: <code>number</code>) =&gt; <code>Promise</code>&lt;<a href="./../modules/purista_core.html#commandresponse"><code>CommandResponse</code></a>&gt;</p><p>Invoke a command</p><p><strong><code>Param</code></strong></p><p>Command</p><p><strong><code>Param</code></strong></p><p>optional HTTP header</p><p><strong><code>Param</code></strong></p><p>the command timeout</p><h4 id="type-declaration-3" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-3" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (<code>command</code>, <code>headers?</code>, <code>timeout?</code>): <code>Promise</code>&lt;<a href="./../modules/purista_core.html#commandresponse"><code>CommandResponse</code></a>&gt;</p><p>Invoke a command</p><h5 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>command</code></td><td style="text-align:left;"><code>Object</code></td><td style="text-align:left;">Command</td></tr><tr><td style="text-align:left;"><code>command.contentEncoding</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">content encoding of message payload</td></tr><tr><td style="text-align:left;"><code>command.contentType</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">content type of message payload</td></tr><tr><td style="text-align:left;"><code>command.correlationId</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">correlation id to know which command response referrs to which command</td></tr><tr><td style="text-align:left;"><code>command.eventName?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">event name for this message</td></tr><tr><td style="text-align:left;"><code>command.id</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">global unique id of message</td></tr><tr><td style="text-align:left;"><code>command.messageType</code></td><td style="text-align:left;"><a href="./../enums/purista_core.EBMessageType.html#command"><code>Command</code></a></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>command.otp?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">stringified Opentelemetry parent trace id</td></tr><tr><td style="text-align:left;"><code>command.payload</code></td><td style="text-align:left;"><code>Object</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>command.payload.parameter</code></td><td style="text-align:left;"><code>unknown</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>command.payload.payload</code></td><td style="text-align:left;"><code>unknown</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>command.principalId?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">principal id</td></tr><tr><td style="text-align:left;"><code>command.receiver</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#ebmessageaddress"><code>EBMessageAddress</code></a></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>command.sender</code></td><td style="text-align:left;"><code>Object</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>command.sender.instanceId</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">instance id of eventbridge</td></tr><tr><td style="text-align:left;"><code>command.sender.serviceName</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the name of the service</td></tr><tr><td style="text-align:left;"><code>command.sender.serviceTarget</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the name of the command or subscription</td></tr><tr><td style="text-align:left;"><code>command.sender.serviceVersion</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">the version of the service</td></tr><tr><td style="text-align:left;"><code>command.tenantId?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">principal id</td></tr><tr><td style="text-align:left;"><code>command.timestamp</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">timestamp of message creation time</td></tr><tr><td style="text-align:left;"><code>command.traceId?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">trace id of message</td></tr><tr><td style="text-align:left;"><code>headers?</code></td><td style="text-align:left;"><code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;</td><td style="text-align:left;">optional HTTP header</td></tr><tr><td style="text-align:left;"><code>timeout?</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">the command timeout</td></tr></tbody></table><h5 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>Promise</code>&lt;<a href="./../modules/purista_core.html#commandresponse"><code>CommandResponse</code></a>&gt;</p><h4 id="defined-in-3" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-3" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts#L40" target="_blank" rel="noreferrer">base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts:40</a></p><hr><h3 id="issidecaravailable" tabindex="-1">isSidecarAvailable <a class="header-anchor" href="#issidecaravailable" aria-label="Permalink to &quot;isSidecarAvailable&quot;">​</a></h3><p>• <strong>isSidecarAvailable</strong>: () =&gt; <code>Promise</code>&lt;<code>boolean</code>&gt;</p><p>Checks if the sidecar container is available to be able to send events and invoke commands</p><h4 id="type-declaration-4" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-4" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (): <code>Promise</code>&lt;<code>boolean</code>&gt;</p><p>Checks if the sidecar container is available to be able to send events and invoke commands</p><h5 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>Promise</code>&lt;<code>boolean</code>&gt;</p><p>boolean</p><h4 id="defined-in-4" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-4" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts#L54" target="_blank" rel="noreferrer">base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts:54</a></p><hr><h3 id="sendevent" tabindex="-1">sendEvent <a class="header-anchor" href="#sendevent" aria-label="Permalink to &quot;sendEvent&quot;">​</a></h3><p>• <strong>sendEvent</strong>: (<code>message</code>: <a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a>, <code>headers?</code>: <code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;) =&gt; <code>Promise</code>&lt;<code>void</code>&gt;</p><p>Send a EBMessage as event to the underlaying message infrastructure.</p><p><strong><code>Param</code></strong></p><p><strong><code>Param</code></strong></p><h4 id="type-declaration-5" tabindex="-1">Type declaration <a class="header-anchor" href="#type-declaration-5" aria-label="Permalink to &quot;Type declaration&quot;">​</a></h4><p>▸ (<code>message</code>, <code>headers?</code>): <code>Promise</code>&lt;<code>void</code>&gt;</p><p>Send a EBMessage as event to the underlaying message infrastructure.</p><h5 id="parameters-4" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-4" aria-label="Permalink to &quot;Parameters&quot;">​</a></h5><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>message</code></td><td style="text-align:left;"><a href="./../modules/purista_core.html#ebmessage"><code>EBMessage</code></a></td></tr><tr><td style="text-align:left;"><code>headers?</code></td><td style="text-align:left;"><code>Record</code>&lt;<code>string</code>, <code>string</code>&gt;</td></tr></tbody></table><h5 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-label="Permalink to &quot;Returns&quot;">​</a></h5><p><code>Promise</code>&lt;<code>void</code>&gt;</p><h4 id="defined-in-5" tabindex="-1">Defined in <a class="header-anchor" href="#defined-in-5" aria-label="Permalink to &quot;Defined in&quot;">​</a></h4><p><a href="https://github.com/sebastianwessel/purista/blob/master/packages/base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts#L48" target="_blank" rel="noreferrer">base-http-bridge/src/HttpEventBridge/types/HttpEventBridgeClient.ts:48</a></p>',98),n=[r];function c(s,i,l,p,h,g){return d(),t("div",null,n)}const f=e(o,[["render",c]]);export{u as __pageData,f as default};
